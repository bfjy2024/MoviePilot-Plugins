import { importShared } from './__federation_fn_import-054b33c3.js';
import { _ as _export_sfc } from './_plugin-vue_export-helper-c4c0bc37.js';

const Config_vue_vue_type_style_index_0_scoped_c93bcb72_lang = '';

const {resolveComponent:_resolveComponent,createVNode:_createVNode,createElementVNode:_createElementVNode,withCtx:_withCtx,toDisplayString:_toDisplayString,createTextVNode:_createTextVNode,openBlock:_openBlock,createBlock:_createBlock,createCommentVNode:_createCommentVNode,Transition:_Transition,vModelCheckbox:_vModelCheckbox,withDirectives:_withDirectives,createElementBlock:_createElementBlock} = await importShared('vue');


const _hoisted_1 = { class: "plugin-config" };
const _hoisted_2 = { style: {"position":"absolute","top":"0","left":"0","right":"0","z-index":"50","padding":"0 10px 10px 10px"} };
const _hoisted_3 = { class: "setting-item d-flex align-center py-2" };
const _hoisted_4 = { class: "setting-content flex-grow-1" };
const _hoisted_5 = { class: "d-flex align-center justify-space-between w-100" };
const _hoisted_6 = {
  class: "switch",
  style: {"--switch-checked-bg":"#bc98fd"}
};
const _hoisted_7 = ["disabled"];
const _hoisted_8 = { class: "slider" };
const _hoisted_9 = { class: "circle" };
const _hoisted_10 = {
  class: "cross",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 365.696 365.696",
  y: "0",
  x: "0",
  height: "6",
  width: "6",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_11 = {
  class: "checkmark",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 24 24",
  y: "0",
  x: "0",
  height: "10",
  width: "10",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_12 = { class: "setting-item d-flex align-center py-2" };
const _hoisted_13 = { class: "setting-content flex-grow-1" };
const _hoisted_14 = { class: "d-flex align-center justify-space-between w-100" };
const _hoisted_15 = {
  class: "switch",
  style: {"--switch-checked-bg":"#73cffe"}
};
const _hoisted_16 = ["disabled"];
const _hoisted_17 = { class: "slider" };
const _hoisted_18 = { class: "circle" };
const _hoisted_19 = {
  class: "cross",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 365.696 365.696",
  y: "0",
  x: "0",
  height: "6",
  width: "6",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_20 = {
  class: "checkmark",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 24 24",
  y: "0",
  x: "0",
  height: "10",
  width: "10",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_21 = { class: "setting-item d-flex align-center py-2" };
const _hoisted_22 = { class: "setting-content flex-grow-1" };
const _hoisted_23 = { class: "d-flex align-center justify-space-between w-100" };
const _hoisted_24 = {
  class: "switch",
  style: {"--switch-checked-bg":"#9adf66"}
};
const _hoisted_25 = ["disabled"];
const _hoisted_26 = { class: "slider" };
const _hoisted_27 = { class: "circle" };
const _hoisted_28 = {
  class: "cross",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 365.696 365.696",
  y: "0",
  x: "0",
  height: "6",
  width: "6",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_29 = {
  class: "checkmark",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 24 24",
  y: "0",
  x: "0",
  height: "10",
  width: "10",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_30 = { class: "setting-item d-flex align-center py-2" };
const _hoisted_31 = { class: "setting-content flex-grow-1" };
const _hoisted_32 = { class: "d-flex align-center justify-space-between w-100" };
const _hoisted_33 = {
  class: "switch",
  style: {"--switch-checked-bg":"#bc98fd"}
};
const _hoisted_34 = ["disabled"];
const _hoisted_35 = { class: "slider" };
const _hoisted_36 = { class: "circle" };
const _hoisted_37 = {
  class: "cross",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 365.696 365.696",
  y: "0",
  x: "0",
  height: "6",
  width: "6",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_38 = {
  class: "checkmark",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 24 24",
  y: "0",
  x: "0",
  height: "10",
  width: "10",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_39 = { class: "setting-item d-flex align-center py-2" };
const _hoisted_40 = { class: "setting-content flex-grow-1" };
const _hoisted_41 = { class: "d-flex align-center justify-space-between w-100" };
const _hoisted_42 = {
  class: "switch",
  style: {"--switch-checked-bg":"#73cffe"}
};
const _hoisted_43 = ["disabled"];
const _hoisted_44 = { class: "slider" };
const _hoisted_45 = { class: "circle" };
const _hoisted_46 = {
  class: "cross",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 365.696 365.696",
  y: "0",
  x: "0",
  height: "6",
  width: "6",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_47 = {
  class: "checkmark",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 24 24",
  y: "0",
  x: "0",
  height: "10",
  width: "10",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_48 = { class: "setting-item d-flex align-center py-2" };
const _hoisted_49 = { class: "setting-content flex-grow-1" };
const _hoisted_50 = { class: "d-flex align-center justify-space-between w-100" };
const _hoisted_51 = {
  class: "switch",
  style: {"--switch-checked-bg":"#9adf66"}
};
const _hoisted_52 = ["disabled"];
const _hoisted_53 = { class: "slider" };
const _hoisted_54 = { class: "circle" };
const _hoisted_55 = {
  class: "cross",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 365.696 365.696",
  y: "0",
  x: "0",
  height: "6",
  width: "6",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_56 = {
  class: "checkmark",
  "xml:space": "preserve",
  style: {"enable-background":"new 0 0 512 512"},
  viewBox: "0 0 24 24",
  y: "0",
  x: "0",
  height: "10",
  width: "10",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_57 = { key: 0 };
const _hoisted_58 = { class: "px-3 py-2" };
const _hoisted_59 = { class: "tooltip-container" };

const {ref,reactive,onMounted,watch} = await importShared('vue');


// 定义 Props
const PLUGIN_ID = 'MagicFram';

// Client

const _sfc_main = {
  __name: 'Config',
  props: {
  api: {
    type: Object,
    required: false,
    default: null
  },
  initialConfig: {
    type: Object,
    default: () => ({})
  }
},
  emits: ['close', 'switch', 'save'],
  setup(__props, { emit: __emit }) {

const props = __props;

// 定义 Emits
const emit = __emit;

// 插件 ID
const createDefaultApi = () => ({
  get: async (url) => {
    const res = await fetch(url);
    return res.json();
  },
  post: async (url, data) => {
    const res = await fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });
    return res.json();
  }
});

const apiClient = props.api || createDefaultApi();

const saving = ref(false);
const loadingCookie = ref(false);
const config = reactive({
  enabled: false,
  notify: true,
  cron: '',
  cookie: '',
  auto_plant: false,
  auto_sell: false,
  auto_sell_threshold: 0,
  expiry_sale_enabled: false,
  expiry_sale_enabled: false,
  use_proxy: false,
  retry_count: 3,
  retry_interval: 5
});

// 缓存原始配置用于重置
const originalConfig = reactive({});

const successMessage = ref('');
const errorMessage = ref('');

const showNotification = (message, color = 'success') => {
  if (color === 'success') {
    successMessage.value = message;
    errorMessage.value = '';
    setTimeout(() => {
      successMessage.value = '';
    }, 3000);
  } else {
    errorMessage.value = message;
    successMessage.value = '';
    setTimeout(() => {
      errorMessage.value = '';
    }, 3000);
  }
};

// 填充站点Cookie
const fillWithSiteCookie = async () => {
  loadingCookie.value = true;
  try {
    const url = `/plugin/${PLUGIN_ID}/cookie`;
    const res = await apiClient.get(url);
    
    if (res && res.success) {
      if (typeof res.cookie === 'string' && res.cookie.trim().toLowerCase() === 'cookie') {
        showNotification('站点Cookie无效，请在站点管理中配置真实Cookie', 'error');
        return;
      }
      config.cookie = res.cookie;
      showNotification('已成功获取站点Cookie', 'success');
    } else {
      showNotification(res.msg || '获取站点Cookie失败', 'error');
    }
  } catch (e) {
    console.error('获取站点Cookie失败:', e);
    showNotification('获取站点Cookie失败: ' + (e.message || '未知错误'), 'error');
  } finally {
    loadingCookie.value = false;
  }
};

// 加载配置
const loadConfig = async () => {
  try {
    const url = `/plugin/${PLUGIN_ID}/config`;
    const res = await apiClient.get(url);
    
    console.log('加载配置:', res);
    
    if (res) {
      config.enabled = res.enabled !== undefined ? res.enabled : false;
      config.notify = res.notify !== undefined ? res.notify : true;
      config.cron = res.cron || '';
      config.cookie = res.cookie || '';
      config.auto_plant = res.auto_plant !== undefined ? res.auto_plant : false;
      config.auto_sell = res.auto_sell !== undefined ? res.auto_sell : false;
      config.auto_sell_threshold = res.auto_sell_threshold !== undefined ? res.auto_sell_threshold : 0;
      config.expiry_sale_enabled = res.expiry_sale_enabled !== undefined ? res.expiry_sale_enabled : false;
      config.expiry_sale_enabled = res.expiry_sale_enabled !== undefined ? res.expiry_sale_enabled : false;
      config.use_proxy = res.use_proxy !== undefined ? res.use_proxy : false;
      config.retry_count = res.retry_count !== undefined ? res.retry_count : 3;
      config.retry_interval = res.retry_interval !== undefined ? res.retry_interval : 5;
      
      // 保存到缓存
      Object.assign(originalConfig, JSON.parse(JSON.stringify(config)));

      showNotification('配置加载成功', 'success');
    }
  } catch (e) {
    console.error('加载配置失败:', e);
    showNotification('加载配置失败: ' + (e.message || '未知错误'), 'error');
  }
};

// 重置配置
const resetConfig = () => {
  try {
    if (Object.keys(originalConfig).length > 0) {
      Object.assign(config, JSON.parse(JSON.stringify(originalConfig)));
      showNotification('配置已重置为初始状态', 'success');
    } else {
      loadConfig();
    }
  } catch (e) {
    console.error('重置配置失败:', e);
    loadConfig();
  }
};

// 保存配置
const saveConfig = async () => {
  saving.value = true;
  try {
    console.log('保存配置:', config);
    
    // 使用 emit 触发保存，交由父组件/宿主处理
    emit('save', JSON.parse(JSON.stringify(config)));
    
    showNotification('已发送保存请求', 'success');
  } catch (e) {
    console.error('保存配置失败:', e);
    showNotification('保存配置失败: ' + (e.message || '未知错误'), 'error');
  } finally {
    saving.value = false;
  }
};

const switchToPage = () => {
  emit('switch', 'page');
};

const closePlugin = () => {
  emit('close');
};

watch(() => props.initialConfig, (newConfig) => {
  if (newConfig && Object.keys(newConfig).length > 0) {
    config.enabled = newConfig.enabled || false;
    config.notify = newConfig.notify !== false;
    config.cron = newConfig.cron || '';
    config.cookie = newConfig.cookie || '';
    config.auto_plant = newConfig.auto_plant || false;
    config.auto_sell = newConfig.auto_sell || false;
    config.auto_sell_threshold = newConfig.auto_sell_threshold || 0;
    config.expiry_sale_enabled = newConfig.expiry_sale_enabled || false;
    config.use_proxy = newConfig.use_proxy || false;
    config.retry_count = newConfig.retry_count !== undefined ? newConfig.retry_count : 3;
    config.retry_interval = newConfig.retry_interval !== undefined ? newConfig.retry_interval : 5;
    
    // 初始化时也保存一份到缓存
    Object.assign(originalConfig, JSON.parse(JSON.stringify(config)));
  }
}, { immediate: true, deep: true });

onMounted(() => {
  loadConfig();
});

return (_ctx, _cache) => {
  const _component_v_icon = _resolveComponent("v-icon");
  const _component_v_spacer = _resolveComponent("v-spacer");
  const _component_v_btn = _resolveComponent("v-btn");
  const _component_v_btn_group = _resolveComponent("v-btn-group");
  const _component_v_card_title = _resolveComponent("v-card-title");
  const _component_v_alert = _resolveComponent("v-alert");
  const _component_v_col = _resolveComponent("v-col");
  const _component_v_row = _resolveComponent("v-row");
  const _component_v_card_text = _resolveComponent("v-card-text");
  const _component_v_card = _resolveComponent("v-card");
  const _component_v_divider = _resolveComponent("v-divider");
  const _component_v_text_field = _resolveComponent("v-text-field");
  const _component_v_expand_transition = _resolveComponent("v-expand-transition");
  const _component_v_progress_circular = _resolveComponent("v-progress-circular");
  const _component_VCronField = _resolveComponent("VCronField");
  const _component_v_form = _resolveComponent("v-form");

  return (_openBlock(), _createElementBlock("div", _hoisted_1, [
    _createVNode(_component_v_card, {
      flat: "",
      class: "rounded border"
    }, {
      default: _withCtx(() => [
        _createVNode(_component_v_card_title, { class: "text-subtitle-1 d-flex align-center px-3 py-2 bg-gradient-primary" }, {
          default: _withCtx(() => [
            _createVNode(_component_v_icon, {
              icon: "mdi-cog",
              class: "mr-2",
              color: "white",
              size: "small"
            }),
            _cache[17] || (_cache[17] = _createElementVNode("span", { class: "text-white" }, "好学农场配置", -1)),
            _createVNode(_component_v_spacer),
            _createVNode(_component_v_btn_group, {
              variant: "outlined",
              density: "compact",
              class: "mr-1"
            }, {
              default: _withCtx(() => [
                _createVNode(_component_v_btn, {
                  color: "white",
                  onClick: switchToPage,
                  size: "small",
                  "min-width": "40",
                  class: "px-0 px-sm-3"
                }, {
                  default: _withCtx(() => [
                    _createVNode(_component_v_icon, {
                      icon: "mdi-view-dashboard",
                      size: "18",
                      class: "mr-sm-1"
                    }),
                    _cache[13] || (_cache[13] = _createElementVNode("span", { class: "btn-text d-none d-sm-inline" }, "状态页", -1))
                  ]),
                  _: 1
                }),
                _createVNode(_component_v_btn, {
                  color: "white",
                  onClick: resetConfig,
                  disabled: saving.value,
                  size: "small",
                  "min-width": "40",
                  class: "px-0 px-sm-3"
                }, {
                  default: _withCtx(() => [
                    _createVNode(_component_v_icon, {
                      icon: "mdi-restore",
                      size: "18",
                      class: "mr-sm-1"
                    }),
                    _cache[14] || (_cache[14] = _createElementVNode("span", { class: "btn-text d-none d-sm-inline" }, "重置", -1))
                  ]),
                  _: 1
                }, 8, ["disabled"]),
                _createVNode(_component_v_btn, {
                  color: "white",
                  onClick: saveConfig,
                  loading: saving.value,
                  size: "small",
                  "min-width": "40",
                  class: "px-0 px-sm-3"
                }, {
                  default: _withCtx(() => [
                    _createVNode(_component_v_icon, {
                      icon: "mdi-content-save",
                      size: "18",
                      class: "mr-sm-1"
                    }),
                    _cache[15] || (_cache[15] = _createElementVNode("span", { class: "btn-text d-none d-sm-inline" }, "保存", -1))
                  ]),
                  _: 1
                }, 8, ["loading"]),
                _createVNode(_component_v_btn, {
                  color: "white",
                  onClick: closePlugin,
                  size: "small",
                  "min-width": "40",
                  class: "px-0 px-sm-3"
                }, {
                  default: _withCtx(() => [
                    _createVNode(_component_v_icon, {
                      icon: "mdi-close",
                      size: "18"
                    }),
                    _cache[16] || (_cache[16] = _createElementVNode("span", { class: "btn-text d-none d-sm-inline" }, "关闭", -1))
                  ]),
                  _: 1
                })
              ]),
              _: 1
            })
          ]),
          _: 1
        }),
        _createVNode(_component_v_card_text, {
          class: "px-3 py-3",
          style: {"position":"relative"}
        }, {
          default: _withCtx(() => [
            _createElementVNode("div", _hoisted_2, [
              _createVNode(_Transition, { name: "slide-fade" }, {
                default: _withCtx(() => [
                  (successMessage.value)
                    ? (_openBlock(), _createBlock(_component_v_alert, {
                        key: 0,
                        type: "success",
                        density: "compact",
                        class: "mb-2 text-caption",
                        variant: "elevated",
                        closable: "",
                        "onClick:close": _cache[0] || (_cache[0] = $event => (successMessage.value = ''))
                      }, {
                        default: _withCtx(() => [
                          _createTextVNode(_toDisplayString(successMessage.value), 1)
                        ]),
                        _: 1
                      }))
                    : _createCommentVNode("", true)
                ]),
                _: 1
              }),
              _createVNode(_Transition, { name: "slide-fade" }, {
                default: _withCtx(() => [
                  (errorMessage.value)
                    ? (_openBlock(), _createBlock(_component_v_alert, {
                        key: 0,
                        type: "error",
                        density: "compact",
                        class: "mb-2 text-caption",
                        variant: "elevated",
                        closable: "",
                        "onClick:close": _cache[1] || (_cache[1] = $event => (errorMessage.value = ''))
                      }, {
                        default: _withCtx(() => [
                          _createTextVNode(_toDisplayString(errorMessage.value), 1)
                        ]),
                        _: 1
                      }))
                    : _createCommentVNode("", true)
                ]),
                _: 1
              })
            ]),
            _createVNode(_component_v_form, null, {
              default: _withCtx(() => [
                _createVNode(_component_v_card, {
                  flat: "",
                  class: "rounded mb-3 border inner-card"
                }, {
                  default: _withCtx(() => [
                    _createVNode(_component_v_card_title, { class: "text-subtitle-2 px-3 py-2 bg-purple-lighten-5 d-flex align-center" }, {
                      default: _withCtx(() => [
                        _createVNode(_component_v_icon, {
                          icon: "mdi-tune",
                          class: "mr-2",
                          color: "purple",
                          size: "small"
                        }),
                        _cache[18] || (_cache[18] = _createTextVNode(" 基础设置 ", -1))
                      ]),
                      _: 1
                    }),
                    _createVNode(_component_v_card_text, { class: "px-3 py-2" }, {
                      default: _withCtx(() => [
                        _createVNode(_component_v_row, null, {
                          default: _withCtx(() => [
                            _createVNode(_component_v_col, {
                              cols: "12",
                              md: "4"
                            }, {
                              default: _withCtx(() => [
                                _createElementVNode("div", _hoisted_3, [
                                  _createVNode(_component_v_icon, {
                                    icon: "mdi-play-circle-outline",
                                    size: "small",
                                    color: config.enabled ? 'success' : 'grey',
                                    class: "mr-3"
                                  }, null, 8, ["color"]),
                                  _createElementVNode("div", _hoisted_4, [
                                    _createElementVNode("div", _hoisted_5, [
                                      _cache[21] || (_cache[21] = _createElementVNode("div", { class: "setting-text" }, [
                                        _createElementVNode("div", { class: "text-subtitle-2 font-weight-bold" }, "启用插件"),
                                        _createElementVNode("div", { class: "text-caption text-grey" }, "是否启用好学农场插件")
                                      ], -1)),
                                      _createElementVNode("label", _hoisted_6, [
                                        _withDirectives(_createElementVNode("input", {
                                          "onUpdate:modelValue": _cache[2] || (_cache[2] = $event => ((config.enabled) = $event)),
                                          type: "checkbox",
                                          disabled: saving.value
                                        }, null, 8, _hoisted_7), [
                                          [_vModelCheckbox, config.enabled]
                                        ]),
                                        _createElementVNode("div", _hoisted_8, [
                                          _createElementVNode("div", _hoisted_9, [
                                            (_openBlock(), _createElementBlock("svg", _hoisted_10, [...(_cache[19] || (_cache[19] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M243.188 182.86 356.32 69.726c12.5-12.5 12.5-32.766 0-45.247L341.238 9.398c-12.504-12.503-32.77-12.503-45.25 0L182.86 122.528 69.727 9.374c-12.5-12.5-32.766-12.5-45.247 0L9.375 24.457c-12.5 12.504-12.5 32.77 0 45.25l113.152 113.152L9.398 295.99c-12.503 12.503-12.503 32.769 0 45.25L24.48 356.32c12.5 12.5 32.766 12.5 45.247 0l113.132-113.132L295.99 356.32c12.503 12.5 32.769 12.5 45.25 0l15.081-15.082c12.5-12.504 12.5-32.77 0-45.25zm0 0"
                                                })
                                              ], -1)
                                            ]))])),
                                            (_openBlock(), _createElementBlock("svg", _hoisted_11, [...(_cache[20] || (_cache[20] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  class: "",
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                })
                                              ], -1)
                                            ]))]))
                                          ])
                                        ])
                                      ])
                                    ])
                                  ])
                                ])
                              ]),
                              _: 1
                            }),
                            _createVNode(_component_v_col, {
                              cols: "12",
                              md: "4"
                            }, {
                              default: _withCtx(() => [
                                _createElementVNode("div", _hoisted_12, [
                                  _createVNode(_component_v_icon, {
                                    icon: "mdi-message-processing-outline",
                                    size: "small",
                                    color: config.notify ? 'info' : 'grey',
                                    class: "mr-3"
                                  }, null, 8, ["color"]),
                                  _createElementVNode("div", _hoisted_13, [
                                    _createElementVNode("div", _hoisted_14, [
                                      _cache[24] || (_cache[24] = _createElementVNode("div", { class: "setting-text" }, [
                                        _createElementVNode("div", { class: "text-subtitle-2 font-weight-bold" }, "开启通知"),
                                        _createElementVNode("div", { class: "text-caption text-grey" }, "操作完成后发送消息通知")
                                      ], -1)),
                                      _createElementVNode("label", _hoisted_15, [
                                        _withDirectives(_createElementVNode("input", {
                                          "onUpdate:modelValue": _cache[3] || (_cache[3] = $event => ((config.notify) = $event)),
                                          type: "checkbox",
                                          disabled: saving.value
                                        }, null, 8, _hoisted_16), [
                                          [_vModelCheckbox, config.notify]
                                        ]),
                                        _createElementVNode("div", _hoisted_17, [
                                          _createElementVNode("div", _hoisted_18, [
                                            (_openBlock(), _createElementBlock("svg", _hoisted_19, [...(_cache[22] || (_cache[22] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M243.188 182.86 356.32 69.726c12.5-12.5 12.5-32.766 0-45.247L341.238 9.398c-12.504-12.503-32.77-12.503-45.25 0L182.86 122.528 69.727 9.374c-12.5-12.5-32.766-12.5-45.247 0L9.375 24.457c-12.5 12.504-12.5 32.77 0 45.25l113.152 113.152L9.398 295.99c-12.503 12.503-12.503 32.769 0 45.25L24.48 356.32c12.5 12.5 32.766 12.5 45.247 0l113.132-113.132L295.99 356.32c12.503 12.5 32.769 12.5 45.25 0l15.081-15.082c12.5-12.504 12.5-32.77 0-45.25zm0 0"
                                                })
                                              ], -1)
                                            ]))])),
                                            (_openBlock(), _createElementBlock("svg", _hoisted_20, [...(_cache[23] || (_cache[23] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  class: "",
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                })
                                              ], -1)
                                            ]))]))
                                          ])
                                        ])
                                      ])
                                    ])
                                  ])
                                ])
                              ]),
                              _: 1
                            }),
                            _createVNode(_component_v_col, {
                              cols: "12",
                              md: "4"
                            }, {
                              default: _withCtx(() => [
                                _createElementVNode("div", _hoisted_21, [
                                  _createVNode(_component_v_icon, {
                                    icon: "mdi-earth",
                                    size: "small",
                                    color: config.use_proxy ? 'info' : 'grey',
                                    class: "mr-3"
                                  }, null, 8, ["color"]),
                                  _createElementVNode("div", _hoisted_22, [
                                    _createElementVNode("div", _hoisted_23, [
                                      _cache[27] || (_cache[27] = _createElementVNode("div", { class: "setting-text" }, [
                                        _createElementVNode("div", { class: "text-subtitle-2 font-weight-bold" }, "使用代理"),
                                        _createElementVNode("div", { class: "text-caption text-grey" }, "使用系统代理请求")
                                      ], -1)),
                                      _createElementVNode("label", _hoisted_24, [
                                        _withDirectives(_createElementVNode("input", {
                                          "onUpdate:modelValue": _cache[4] || (_cache[4] = $event => ((config.use_proxy) = $event)),
                                          type: "checkbox",
                                          disabled: saving.value
                                        }, null, 8, _hoisted_25), [
                                          [_vModelCheckbox, config.use_proxy]
                                        ]),
                                        _createElementVNode("div", _hoisted_26, [
                                          _createElementVNode("div", _hoisted_27, [
                                            (_openBlock(), _createElementBlock("svg", _hoisted_28, [...(_cache[25] || (_cache[25] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M243.188 182.86 356.32 69.726c12.5-12.5 12.5-32.766 0-45.247L341.238 9.398c-12.504-12.503-32.77-12.503-45.25 0L182.86 122.528 69.727 9.374c-12.5-12.5-32.766-12.5-45.247 0L9.375 24.457c-12.5 12.504-12.5 32.77 0 45.25l113.152 113.152L9.398 295.99c-12.503 12.503-12.503 32.769 0 45.25L24.48 356.32c12.5 12.5 32.766 12.5 45.247 0l113.132-113.132L295.99 356.32c12.503 12.5 32.769 12.5 45.25 0l15.081-15.082c12.5-12.504 12.5-32.77 0-45.25zm0 0"
                                                })
                                              ], -1)
                                            ]))])),
                                            (_openBlock(), _createElementBlock("svg", _hoisted_29, [...(_cache[26] || (_cache[26] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  class: "",
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                })
                                              ], -1)
                                            ]))]))
                                          ])
                                        ])
                                      ])
                                    ])
                                  ])
                                ])
                              ]),
                              _: 1
                            })
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                }),
                _createVNode(_component_v_card, {
                  flat: "",
                  class: "rounded mb-3 border inner-card"
                }, {
                  default: _withCtx(() => [
                    _createVNode(_component_v_card_title, { class: "text-subtitle-2 px-3 py-2 bg-green-lighten-5 d-flex align-center" }, {
                      default: _withCtx(() => [
                        _createVNode(_component_v_icon, {
                          icon: "mdi-robot-outline",
                          class: "mr-2",
                          color: "success",
                          size: "small"
                        }),
                        _cache[28] || (_cache[28] = _createTextVNode(" 自动化功能 ", -1))
                      ]),
                      _: 1
                    }),
                    _createVNode(_component_v_card_text, { class: "px-3 py-2" }, {
                      default: _withCtx(() => [
                        _createVNode(_component_v_row, null, {
                          default: _withCtx(() => [
                            _createVNode(_component_v_col, {
                              cols: "12",
                              md: "4"
                            }, {
                              default: _withCtx(() => [
                                _createElementVNode("div", _hoisted_30, [
                                  _createVNode(_component_v_icon, {
                                    icon: "mdi-barley",
                                    size: "small",
                                    color: config.auto_plant ? 'success' : 'grey',
                                    class: "mr-3"
                                  }, null, 8, ["color"]),
                                  _createElementVNode("div", _hoisted_31, [
                                    _createElementVNode("div", _hoisted_32, [
                                      _cache[31] || (_cache[31] = _createElementVNode("div", { class: "setting-text" }, [
                                        _createElementVNode("div", { class: "text-subtitle-2 font-weight-bold" }, "自动种植"),
                                        _createElementVNode("div", { class: "text-caption text-grey" }, "定时任务自动种植/养殖")
                                      ], -1)),
                                      _createElementVNode("label", _hoisted_33, [
                                        _withDirectives(_createElementVNode("input", {
                                          "onUpdate:modelValue": _cache[5] || (_cache[5] = $event => ((config.auto_plant) = $event)),
                                          type: "checkbox",
                                          disabled: saving.value
                                        }, null, 8, _hoisted_34), [
                                          [_vModelCheckbox, config.auto_plant]
                                        ]),
                                        _createElementVNode("div", _hoisted_35, [
                                          _createElementVNode("div", _hoisted_36, [
                                            (_openBlock(), _createElementBlock("svg", _hoisted_37, [...(_cache[29] || (_cache[29] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M243.188 182.86 356.32 69.726c12.5-12.5 12.5-32.766 0-45.247L341.238 9.398c-12.504-12.503-32.77-12.503-45.25 0L182.86 122.528 69.727 9.374c-12.5-12.5-32.766-12.5-45.247 0L9.375 24.457c-12.5 12.504-12.5 32.77 0 45.25l113.152 113.152L9.398 295.99c-12.503 12.503-12.503 32.769 0 45.25L24.48 356.32c12.5 12.5 32.766 12.5 45.247 0l113.132-113.132L295.99 356.32c12.503 12.5 32.769 12.5 45.25 0l15.081-15.082c12.5-12.504 12.5-32.77 0-45.25zm0 0"
                                                })
                                              ], -1)
                                            ]))])),
                                            (_openBlock(), _createElementBlock("svg", _hoisted_38, [...(_cache[30] || (_cache[30] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  class: "",
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                })
                                              ], -1)
                                            ]))]))
                                          ])
                                        ])
                                      ])
                                    ])
                                  ])
                                ])
                              ]),
                              _: 1
                            }),
                            _createVNode(_component_v_col, {
                              cols: "12",
                              md: "4"
                            }, {
                              default: _withCtx(() => [
                                _createElementVNode("div", _hoisted_39, [
                                  _createVNode(_component_v_icon, {
                                    icon: "mdi-store-outline",
                                    size: "small",
                                    color: config.auto_sell ? 'warning' : 'grey',
                                    class: "mr-3"
                                  }, null, 8, ["color"]),
                                  _createElementVNode("div", _hoisted_40, [
                                    _createElementVNode("div", _hoisted_41, [
                                      _cache[34] || (_cache[34] = _createElementVNode("div", { class: "setting-text" }, [
                                        _createElementVNode("div", { class: "text-subtitle-2 font-weight-bold" }, "自动出售"),
                                        _createElementVNode("div", { class: "text-caption text-grey" }, "定时任务自动出售仓库")
                                      ], -1)),
                                      _createElementVNode("label", _hoisted_42, [
                                        _withDirectives(_createElementVNode("input", {
                                          "onUpdate:modelValue": _cache[6] || (_cache[6] = $event => ((config.auto_sell) = $event)),
                                          type: "checkbox",
                                          disabled: saving.value
                                        }, null, 8, _hoisted_43), [
                                          [_vModelCheckbox, config.auto_sell]
                                        ]),
                                        _createElementVNode("div", _hoisted_44, [
                                          _createElementVNode("div", _hoisted_45, [
                                            (_openBlock(), _createElementBlock("svg", _hoisted_46, [...(_cache[32] || (_cache[32] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M243.188 182.86 356.32 69.726c12.5-12.5 12.5-32.766 0-45.247L341.238 9.398c-12.504-12.503-32.77-12.503-45.25 0L182.86 122.528 69.727 9.374c-12.5-12.5-32.766-12.5-45.247 0L9.375 24.457c-12.5 12.504-12.5 32.77 0 45.25l113.152 113.152L9.398 295.99c-12.503 12.503-12.503 32.769 0 45.25L24.48 356.32c12.5 12.5 32.766 12.5 45.247 0l113.132-113.132L295.99 356.32c12.503 12.5 32.769 12.5 45.25 0l15.081-15.082c12.5-12.504 12.5-32.77 0-45.25zm0 0"
                                                })
                                              ], -1)
                                            ]))])),
                                            (_openBlock(), _createElementBlock("svg", _hoisted_47, [...(_cache[33] || (_cache[33] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  class: "",
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                })
                                              ], -1)
                                            ]))]))
                                          ])
                                        ])
                                      ])
                                    ])
                                  ])
                                ])
                              ]),
                              _: 1
                            }),
                            _createVNode(_component_v_col, {
                              cols: "12",
                              md: "4"
                            }, {
                              default: _withCtx(() => [
                                _createElementVNode("div", _hoisted_48, [
                                  _createVNode(_component_v_icon, {
                                    icon: "mdi-timer-alert-outline",
                                    size: "small",
                                    color: config.expiry_sale_enabled ? 'deep-orange' : 'grey',
                                    class: "mr-3"
                                  }, null, 8, ["color"]),
                                  _createElementVNode("div", _hoisted_49, [
                                    _createElementVNode("div", _hoisted_50, [
                                      _cache[37] || (_cache[37] = _createElementVNode("div", { class: "setting-text" }, [
                                        _createElementVNode("div", { class: "text-subtitle-2 font-weight-bold" }, "临期自动出售"),
                                        _createElementVNode("div", { class: "text-caption text-grey" }, "剩余时间<1小时自动出售")
                                      ], -1)),
                                      _createElementVNode("label", _hoisted_51, [
                                        _withDirectives(_createElementVNode("input", {
                                          "onUpdate:modelValue": _cache[7] || (_cache[7] = $event => ((config.expiry_sale_enabled) = $event)),
                                          type: "checkbox",
                                          disabled: saving.value
                                        }, null, 8, _hoisted_52), [
                                          [_vModelCheckbox, config.expiry_sale_enabled]
                                        ]),
                                        _createElementVNode("div", _hoisted_53, [
                                          _createElementVNode("div", _hoisted_54, [
                                            (_openBlock(), _createElementBlock("svg", _hoisted_55, [...(_cache[35] || (_cache[35] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M243.188 182.86 356.32 69.726c12.5-12.5 12.5-32.766 0-45.247L341.238 9.398c-12.504-12.503-32.77-12.503-45.25 0L182.86 122.528 69.727 9.374c-12.5-12.5-32.766-12.5-45.247 0L9.375 24.457c-12.5 12.504-12.5 32.77 0 45.25l113.152 113.152L9.398 295.99c-12.503 12.503-12.503 32.769 0 45.25L24.48 356.32c12.5 12.5 32.766 12.5 45.247 0l113.132-113.132L295.99 356.32c12.503 12.5 32.769 12.5 45.25 0l15.081-15.082c12.5-12.504 12.5-32.77 0-45.25zm0 0"
                                                })
                                              ], -1)
                                            ]))])),
                                            (_openBlock(), _createElementBlock("svg", _hoisted_56, [...(_cache[36] || (_cache[36] = [
                                              _createElementVNode("g", null, [
                                                _createElementVNode("path", {
                                                  class: "",
                                                  "data-original": "#000000",
                                                  fill: "currentColor",
                                                  d: "M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                })
                                              ], -1)
                                            ]))]))
                                          ])
                                        ])
                                      ])
                                    ])
                                  ])
                                ])
                              ]),
                              _: 1
                            })
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    }),
                    _createVNode(_component_v_expand_transition, null, {
                      default: _withCtx(() => [
                        (config.auto_sell)
                          ? (_openBlock(), _createElementBlock("div", _hoisted_57, [
                              _createVNode(_component_v_divider, { class: "my-1" }),
                              _createElementVNode("div", _hoisted_58, [
                                _createVNode(_component_v_row, null, {
                                  default: _withCtx(() => [
                                    _createVNode(_component_v_col, { cols: "12" }, {
                                      default: _withCtx(() => [
                                        _createVNode(_component_v_text_field, {
                                          modelValue: config.auto_sell_threshold,
                                          "onUpdate:modelValue": _cache[8] || (_cache[8] = $event => ((config.auto_sell_threshold) = $event)),
                                          modelModifiers: { number: true },
                                          label: "最低盈利百分比 (%)",
                                          placeholder: "0",
                                          type: "number",
                                          variant: "outlined",
                                          density: "compact",
                                          min: 0,
                                          max: 50,
                                          rules: [v => v === null || v === '' || (Number(v) >= 0 && Number(v) <= 50) || '百分比必须在0-50之间'],
                                          hint: "只有利润率(现价-成本)/成本 达到此数值才出售。设为0则不限制 (最大50%)。",
                                          "persistent-hint": "",
                                          "prepend-inner-icon": "mdi-percent-outline",
                                          disabled: saving.value,
                                          class: "text-caption",
                                          "hide-details": "auto"
                                        }, null, 8, ["modelValue", "rules", "disabled"])
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  _: 1
                                })
                              ])
                            ]))
                          : _createCommentVNode("", true)
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                }),
                _createVNode(_component_v_card, {
                  flat: "",
                  class: "rounded mb-3 border inner-card"
                }, {
                  default: _withCtx(() => [
                    _createVNode(_component_v_card_title, { class: "text-subtitle-2 d-flex align-center px-3 py-2" }, {
                      default: _withCtx(() => [
                        _createVNode(_component_v_icon, {
                          icon: "mdi-key",
                          class: "mr-2",
                          color: "warning",
                          size: "small"
                        }),
                        _cache[38] || (_cache[38] = _createElementVNode("span", null, "认证与定时", -1))
                      ]),
                      _: 1
                    }),
                    _createVNode(_component_v_card_text, { class: "px-3 py-2" }, {
                      default: _withCtx(() => [
                        _createVNode(_component_v_row, null, {
                          default: _withCtx(() => [
                            _createVNode(_component_v_col, {
                              cols: "12",
                              md: "6"
                            }, {
                              default: _withCtx(() => [
                                _createVNode(_component_v_text_field, {
                                  modelValue: config.cookie,
                                  "onUpdate:modelValue": _cache[9] || (_cache[9] = $event => ((config.cookie) = $event)),
                                  label: "Cookie",
                                  placeholder: "请输入站点的Cookie",
                                  type: "password",
                                  variant: "outlined",
                                  hint: "登录好学站点后，从浏览器开发者工具中复制Cookie",
                                  "persistent-hint": "",
                                  "prepend-inner-icon": "mdi-cookie",
                                  disabled: saving.value,
                                  density: "compact",
                                  class: "text-caption"
                                }, {
                                  "append-inner": _withCtx(() => [
                                    _createElementVNode("div", _hoisted_59, [
                                      _createVNode(_component_v_btn, {
                                        icon: "",
                                        variant: "tonal",
                                        color: "secondary",
                                        onClick: fillWithSiteCookie,
                                        disabled: saving.value || loadingCookie.value,
                                        size: "small",
                                        class: "tooltip-btn"
                                      }, {
                                        default: _withCtx(() => [
                                          (!loadingCookie.value)
                                            ? (_openBlock(), _createBlock(_component_v_icon, {
                                                key: 0,
                                                color: "secondary",
                                                size: "small",
                                                class: "tooltip-icon"
                                              }, {
                                                default: _withCtx(() => [...(_cache[39] || (_cache[39] = [
                                                  _createTextVNode("mdi-content-paste", -1)
                                                ]))]),
                                                _: 1
                                              }))
                                            : (_openBlock(), _createBlock(_component_v_progress_circular, {
                                                key: 1,
                                                indeterminate: "",
                                                size: "16",
                                                width: "2",
                                                color: "primary"
                                              }))
                                        ]),
                                        _: 1
                                      }, 8, ["disabled"]),
                                      _cache[40] || (_cache[40] = _createElementVNode("div", { class: "custom-tooltip" }, [
                                        _createElementVNode("div", { class: "custom-tooltip-content" }, [
                                          _createElementVNode("span", { class: "tooltip-text" }, "使用已添加站点的Cookie")
                                        ])
                                      ], -1))
                                    ])
                                  ]),
                                  _: 1
                                }, 8, ["modelValue", "disabled"])
                              ]),
                              _: 1
                            }),
                            _createVNode(_component_v_col, {
                              cols: "12",
                              md: "6"
                            }, {
                              default: _withCtx(() => [
                                _createVNode(_component_VCronField, {
                                  modelValue: config.cron,
                                  "onUpdate:modelValue": _cache[10] || (_cache[10] = $event => ((config.cron) = $event)),
                                  label: "Cron表达式",
                                  hint: "设置执行周期，如：0 */4 * * * (每4小时执行一次)",
                                  "persistent-hint": "",
                                  density: "compact"
                                }, null, 8, ["modelValue"])
                              ]),
                              _: 1
                            }),
                            _createVNode(_component_v_col, {
                              cols: "12",
                              md: "6"
                            }, {
                              default: _withCtx(() => [
                                _createVNode(_component_v_text_field, {
                                  modelValue: config.retry_count,
                                  "onUpdate:modelValue": _cache[11] || (_cache[11] = $event => ((config.retry_count) = $event)),
                                  modelModifiers: { number: true },
                                  label: "重试次数",
                                  type: "number",
                                  variant: "outlined",
                                  min: 0,
                                  max: 10,
                                  hint: "请求失败时的重试次数 (0-10)",
                                  "persistent-hint": "",
                                  "prepend-inner-icon": "mdi-refresh",
                                  disabled: saving.value,
                                  density: "compact",
                                  class: "text-caption"
                                }, null, 8, ["modelValue", "disabled"])
                              ]),
                              _: 1
                            }),
                            _createVNode(_component_v_col, {
                              cols: "12",
                              md: "6"
                            }, {
                              default: _withCtx(() => [
                                _createVNode(_component_v_text_field, {
                                  modelValue: config.retry_interval,
                                  "onUpdate:modelValue": _cache[12] || (_cache[12] = $event => ((config.retry_interval) = $event)),
                                  modelModifiers: { number: true },
                                  label: "重试间隔(秒)",
                                  type: "number",
                                  variant: "outlined",
                                  min: 1,
                                  max: 60,
                                  hint: "失败重试的间隔时间 (1-60秒)",
                                  "persistent-hint": "",
                                  "prepend-inner-icon": "mdi-timer-sand",
                                  disabled: saving.value,
                                  density: "compact",
                                  class: "text-caption"
                                }, null, 8, ["modelValue", "disabled"])
                              ]),
                              _: 1
                            })
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                })
              ]),
              _: 1
            })
          ]),
          _: 1
        })
      ]),
      _: 1
    })
  ]))
}
}

};
const ConfigComponent = /*#__PURE__*/_export_sfc(_sfc_main, [['__scopeId',"data-v-c93bcb72"]]);

export { ConfigComponent as default };
